sqlplus "/as sysdba" 

create user study identified by study;
grant connect, resource,dba to study;


create table member(
 mno INT NOT NULL,
 id VARCHAR2(30) PRIMARY KEY,
 pw VARCHAR2(30) NOT NULL,
 nickname VARCHAR2(30) ,
 phone VARCHAR2(15) ,
 email VARCHAR2(50) ,
 membertype CHAR(1) CONSTRAINT type_CK CHECK(membertype IN ('0','1')) NOT NULL,
 profile_img VARCHAR2(150),
 regdate DATE defalut sysdate,
 udate DATE defalut sysdate
);

create sequence member_mno_seq
 start with 1
 increment by 1;
 
 alter table member add(verified char(1) constraint verified_ck CHECK(verified IN('N','Y')));
 alter table member modify(verified char(1) default 'N');


create table authority(
 userid varchar2(30) not null,
 auth varchar2(30) not null
);

alter table authority add constraint authority_fk foreign key(userid) references member(id) on delete cascade; 
alter table member rename column id to userid;
ALTER TABLE MEMBER  MODIFY (PW VARCHAR2(100 BYTE) );

create table room(
 rno INT NOT NULL,
 userid VARCHAR2(30) NOT NULL,
 roomname VARCHAR2(100)  PRIMARY KEY,
 location VARCHAR2(500) NOT NULL,
 grade INT default 0,
 imgname1 VARCHAR2(100),
 imgname2 VARCHAR2(100),
 imgname3 VARCHAR2(100),
 presentation1 VARCHAR2(200),
 imgname4 VARCHAR2(100),
 imgname5 VARCHAR2(100),
 presentation2 VARCHAR2(200),
 presentation3 VARCHAR2(400),
 regdate DATE defalut sysdate,
 udate DATE defalut sysdate
);
alter table room add constraint room_fk foreign key(userid) references member(userid) on delete cascade;
